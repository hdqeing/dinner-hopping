import{h as q,E as V,i as z,f as S,j as P,k as y,r as i,o as k,c as w,a as l,w as t,e as n,l as B,b as c,p as R,d as T,_ as j}from"./index-5054acd1.js";const I=window.location.hostname==="www.dinnerhoppinggoettingen.de",Y=I?"https://api.dinnerhoppinggoettingen.de":"http://localhost:4365",_=q.create({baseURL:Y+"/api/",timeout:15e3,withCredentials:I,headers:{"Content-Type":"application/json",token:"your token","X-Requested-With":"XMLHttpRequest"}});_.interceptors.request.use(function(r){return r},function(r){return console.log(r),Promise.reject(r)});_.interceptors.response.use(function(r){console.log(r);const u=r.data;return u.reset,u},function(r){return console.log(r),Promise.reject(r)});const F=()=>{z.alert("Congrats, check your email now.","Success",{confirmButtonText:"OK"})},H=r=>{_.post("participant",r).then(u=>{console.log(u),u.success?F():V.error("Failed to register, try again later.")}).catch(u=>{console.warn(u),V.error("Network or System error.")})},d=r=>(R("data-v-a0b44953"),r=r(),T(),r),M={class:"front"},W={key:0},A=d(()=>n("label",null,"Could you kindly offer a dining room at your home?",-1)),L=d(()=>n("br",null,null,-1)),X={class:"mb-2 flex items-center text-sm"},G=d(()=>n("label",null,"Could you kindly provide me with your address?",-1)),K=d(()=>n("br",null,null,-1)),O=d(()=>n("label",null,"Are you a vegetarian or vegan?",-1)),$=d(()=>n("br",null,null,-1)),D=d(()=>n("label",null,"What languages do you speak?",-1)),J=d(()=>n("br",null,null,-1)),Q=d(()=>n("label",null,"Which course would you like to prepare?",-1)),Z=d(()=>n("br",null,null,-1)),ee=S({__name:"Enrollment",props:{withFriend:{type:Boolean}},setup(r){const u=P(),e=y({name:"",email:"",friendName:"",friendEmail:"",host:void 0,street:"",houseNumber:"",vegetarian:!1,vegan:!1,languages:[],courses:[]}),N=y({name:[{required:!0,message:"How do I address you?",trigger:"blur"}],email:[{required:!0,message:"Please provide your email address for further correspondence!",trigger:"blur"},{type:"email",message:"The email address you provided is not formatted correctly.",trigger:"blur"}],host:[{type:"boolean",required:!0,message:"Please select if you can host?",trigger:"change"}],street:[{required:!0,message:"Please input the name of the street where your home is located?",trigger:"blur"}],houseNumber:[{required:!0,message:"Please input the house number",trigger:"blur"}],languages:[{type:"array",required:!0,message:"Please select at least one language",trigger:"change"}],courses:[{type:"array",required:!0,message:"Please select at least one course",trigger:"change"}]}),x=async g=>{g&&await g.validate((o,m)=>{if(o){console.log("submit!");const s={name:e.name,email:e.email,friendName:e.friendName,friendEmail:e.friendEmail,vegan:e.vegan,vegetarian:e.vegetarian,englishSpeaker:e.languages.includes("I speak English"),germanSpeaker:e.languages.includes("I speak German"),street:e.street,houseNumber:Number(e.houseNumber),host:e.host,appetizer:e.courses.includes("I can prepare starter"),mainCourse:e.courses.includes("I can prepare main course"),dessert:e.courses.includes("I can prepare dessert")};H(s)}else console.log("error submit!",m)})};return(g,o)=>{const m=i("el-input"),s=i("el-form-item"),f=i("el-radio"),E=i("el-radio-group"),b=i("el-col"),C=i("el-row"),p=i("el-checkbox"),h=i("el-checkbox-group"),v=i("el-button"),U=i("el-form");return k(),w("div",M,[l(U,{ref_key:"formRef",ref:u,model:e,rules:N,"status-icon":""},{default:t(()=>[n("div",null,[l(s,{label:"Your name",prop:"name"},{default:t(()=>[l(m,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.name=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"Your email",prop:"email"},{default:t(()=>[l(m,{modelValue:e.email,"onUpdate:modelValue":o[1]||(o[1]=a=>e.email=a)},null,8,["modelValue"])]),_:1})]),r.withFriend?(k(),w("div",W,[l(s,{label:"Your friend's name",prop:"friendName"},{default:t(()=>[l(m,{modelValue:e.friendName,"onUpdate:modelValue":o[2]||(o[2]=a=>e.friendName=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"Your friend's email",prop:"friendEmail"},{default:t(()=>[l(m,{modelValue:e.friendEmail,"onUpdate:modelValue":o[3]||(o[3]=a=>e.friendEmail=a)},null,8,["modelValue"])]),_:1})])):B("",!0),n("div",null,[A,L,n("div",X,[l(s,{prop:"host"},{default:t(()=>[l(E,{modelValue:e.host,"onUpdate:modelValue":o[4]||(o[4]=a=>e.host=a),class:"ml-4"},{default:t(()=>[l(f,{label:!0,size:"large"},{default:t(()=>[c("I can host")]),_:1}),l(f,{label:!1,size:"large"},{default:t(()=>[c("I cannot host")]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),n("div",null,[G,K,l(C,{gutter:2},{default:t(()=>[l(b,{span:16},{default:t(()=>[l(s,{prop:"street"},{default:t(()=>[l(m,{modelValue:e.street,"onUpdate:modelValue":o[5]||(o[5]=a=>e.street=a),placeholder:"Street"},null,8,["modelValue"])]),_:1})]),_:1}),l(b,{span:8},{default:t(()=>[l(s,{prop:"houseNumber"},{default:t(()=>[l(m,{modelValue:e.houseNumber,"onUpdate:modelValue":o[6]||(o[6]=a=>e.houseNumber=a),placeholder:"House number",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),n("div",null,[O,$,n("div",null,[l(p,{modelValue:e.vegetarian,"onUpdate:modelValue":o[7]||(o[7]=a=>e.vegetarian=a),label:"I am vegetarian",size:"large"},null,8,["modelValue"]),l(p,{modelValue:e.vegan,"onUpdate:modelValue":o[8]||(o[8]=a=>e.vegan=a),label:"I am vegan",size:"large"},null,8,["modelValue"])])]),n("div",null,[D,J,n("div",null,[l(s,{prop:"languages"},{default:t(()=>[l(h,{modelValue:e.languages,"onUpdate:modelValue":o[9]||(o[9]=a=>e.languages=a)},{default:t(()=>[l(p,{name:"languages",label:"I speak English",size:"large"}),l(p,{name:"languages",label:"I speak german",size:"large"})]),_:1},8,["modelValue"])]),_:1})])]),n("div",null,[Q,Z,n("div",null,[l(s,{prop:"courses"},{default:t(()=>[l(h,{modelValue:e.courses,"onUpdate:modelValue":o[10]||(o[10]=a=>e.courses=a)},{default:t(()=>[l(p,{name:"courses",label:"I can prepare starter",size:"large"}),l(p,{name:"courses",label:"I can prepare main course",size:"large"}),l(p,{name:"courses",label:"I can prepare dessert",size:"large"})]),_:1},8,["modelValue"])]),_:1})])]),l(s,{class:"commit-box"},{default:t(()=>[l(v,{type:"primary",onClick:o[11]||(o[11]=a=>x(u.value))},{default:t(()=>[c("Create")]),_:1}),l(v,null,{default:t(()=>[c("Cancel")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});const oe=j(ee,[["__scopeId","data-v-a0b44953"]]);export{oe as E};
